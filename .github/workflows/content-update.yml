name: Content Update - Knowledge Base Sync

on:
  push:
    branches: [ main ]
    paths:
      - 'data/knowledge/**'
      - 'chat/data/**'

env:
  REGISTRY: ghcr.io
  IMAGE_NAME: shadow-link-industries/portfolio

jobs:
  content-notify:
    runs-on: ubuntu-latest
    if: github.event_name == 'push'
    
    steps:
    - name: Checkout code
      uses: actions/checkout@v4
        
    - name: Content Update Notification
      run: |
        echo "ğŸ“ Knowledge Base Content Updated!"
        echo "================================="
        echo ""
        echo "Updated files:"
        git diff --name-only HEAD~1 HEAD | grep -E "(data/knowledge/|chat/data/)" || echo "  No content files changed"
        echo ""
        echo "ğŸ¯ To apply these updates to linksmlm.com:"
        echo "   1. The CI/CD pipeline will build new images with this content"
        echo "   2. Pull the latest images to your local cluster:"
        echo "      docker pull linksrobot/portfolio-api:latest"
        echo "      docker pull linksrobot/portfolio-ui:latest"
        echo "   3. Update local deployment:"
        echo "      ./scripts/deploy-from-registry.sh latest"
        echo ""
        echo "ğŸ“‹ Expected Changes:"
        echo "   â€¢ Avatar: Sheyla â†’ Gojo (white hair, crystal blue eyes)"
        echo "   â€¢ Updated DevOps experience with CI/CD innovation"
        echo "   â€¢ LinkOps AI-BOX funding and ZRS client information"
        echo ""
        echo "ğŸ”— Verify at: https://linksmlm.com after local deployment"
        
    - name: Deployment Summary
      run: |
        echo "ğŸ‰ Content update complete!"
        echo "ğŸŒ Live at: https://linksmlm.com"
        echo "ğŸ¤– Sheyla now has updated information about:"
        echo "  â€¢ LinkOps AI-BOX funding status"
        echo "  â€¢ ZRS Management client details"
        echo "  â€¢ Updated technical experience"
        echo "  â€¢ Current DevSecOps practices"
        echo ""
        echo "ğŸ’¬ Test it: Ask Sheyla 'Tell me about LinkOps AI-BOX'"